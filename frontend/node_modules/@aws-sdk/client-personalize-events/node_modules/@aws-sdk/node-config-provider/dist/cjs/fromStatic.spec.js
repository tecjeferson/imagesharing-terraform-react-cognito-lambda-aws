"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var property_provider_1 = require("@aws-sdk/property-provider");
var fromStatic_1 = require("./fromStatic");
jest.mock("@aws-sdk/property-provider", function () { return ({
    fromStatic: jest.fn(),
}); });
describe("fromStatic", function () {
    var value = "default";
    it("should convert static values to provider", function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
        return tslib_1.__generator(this, function (_a) {
            property_provider_1.fromStatic.mockReturnValue(value);
            fromStatic_1.fromStatic(value);
            expect(property_provider_1.fromStatic).toHaveBeenCalledWith(value);
            return [2 /*return*/];
        });
    }); });
    it("should call the getter function", function () { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
        var getter, config, _a;
        return tslib_1.__generator(this, function (_b) {
            switch (_b.label) {
                case 0:
                    getter = jest.fn().mockReturnValue(value);
                    config = fromStatic_1.fromStatic(getter);
                    _a = expect;
                    return [4 /*yield*/, config()];
                case 1:
                    _a.apply(void 0, [_b.sent()]).toBe(value);
                    expect(getter).toHaveBeenCalled();
                    return [2 /*return*/];
            }
        });
    }); });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnJvbVN0YXRpYy5zcGVjLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2Zyb21TdGF0aWMuc3BlYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxnRUFBNkU7QUFFN0UsMkNBQTBDO0FBRTFDLElBQUksQ0FBQyxJQUFJLENBQUMsNEJBQTRCLEVBQUUsY0FBTSxPQUFBLENBQUM7SUFDN0MsVUFBVSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7Q0FDdEIsQ0FBQyxFQUY0QyxDQUU1QyxDQUFDLENBQUM7QUFFSixRQUFRLENBQUMsWUFBWSxFQUFFO0lBQ3JCLElBQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQztJQUN4QixFQUFFLENBQUMsMENBQTBDLEVBQUU7O1lBQzVDLDhCQUErQixDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN4RCx1QkFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2xCLE1BQU0sQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxDQUFDOzs7U0FDcEUsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLGlDQUFpQyxFQUFFOzs7OztvQkFDOUIsTUFBTSxHQUFHLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQzFDLE1BQU0sR0FBRyx1QkFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO29CQUNsQyxLQUFBLE1BQU0sQ0FBQTtvQkFBQyxxQkFBTSxNQUFNLEVBQUUsRUFBQTs7b0JBQXJCLGtCQUFPLFNBQWMsRUFBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFDbkMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLGdCQUFnQixFQUFFLENBQUM7Ozs7U0FDbkMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmcm9tU3RhdGljIGFzIGNvbnZlcnRUb1Byb3ZpZGVyIH0gZnJvbSBcIkBhd3Mtc2RrL3Byb3BlcnR5LXByb3ZpZGVyXCI7XG5cbmltcG9ydCB7IGZyb21TdGF0aWMgfSBmcm9tIFwiLi9mcm9tU3RhdGljXCI7XG5cbmplc3QubW9jayhcIkBhd3Mtc2RrL3Byb3BlcnR5LXByb3ZpZGVyXCIsICgpID0+ICh7XG4gIGZyb21TdGF0aWM6IGplc3QuZm4oKSxcbn0pKTtcblxuZGVzY3JpYmUoXCJmcm9tU3RhdGljXCIsICgpID0+IHtcbiAgY29uc3QgdmFsdWUgPSBcImRlZmF1bHRcIjtcbiAgaXQoXCJzaG91bGQgY29udmVydCBzdGF0aWMgdmFsdWVzIHRvIHByb3ZpZGVyXCIsIGFzeW5jICgpID0+IHtcbiAgICAoY29udmVydFRvUHJvdmlkZXIgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUodmFsdWUpO1xuICAgIGZyb21TdGF0aWModmFsdWUpO1xuICAgIGV4cGVjdChjb252ZXJ0VG9Qcm92aWRlciBhcyBqZXN0Lk1vY2spLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHZhbHVlKTtcbiAgfSk7XG5cbiAgaXQoXCJzaG91bGQgY2FsbCB0aGUgZ2V0dGVyIGZ1bmN0aW9uXCIsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBnZXR0ZXIgPSBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHZhbHVlKTtcbiAgICBjb25zdCBjb25maWcgPSBmcm9tU3RhdGljKGdldHRlcik7XG4gICAgZXhwZWN0KGF3YWl0IGNvbmZpZygpKS50b0JlKHZhbHVlKTtcbiAgICBleHBlY3QoZ2V0dGVyKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gIH0pO1xufSk7XG4iXX0=