"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.setSocketTimeout = void 0;
function setSocketTimeout(request, reject, timeoutInMs) {
    if (timeoutInMs === void 0) { timeoutInMs = 0; }
    request.setTimeout(timeoutInMs, function () {
        // abort the request to destroy it
        this.abort();
        var timeoutError = new Error("Connection timed out after " + timeoutInMs + " ms");
        timeoutError.name = "TimeoutError";
        reject(timeoutError);
    });
}
exports.setSocketTimeout = setSocketTimeout;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2V0LXNvY2tldC10aW1lb3V0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3NldC1zb2NrZXQtdGltZW91dC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFFQSxTQUFnQixnQkFBZ0IsQ0FBQyxPQUFzQixFQUFFLE1BQTRCLEVBQUUsV0FBZTtJQUFmLDRCQUFBLEVBQUEsZUFBZTtJQUNwRyxPQUFPLENBQUMsVUFBVSxDQUFDLFdBQVcsRUFBRTtRQUM5QixrQ0FBa0M7UUFDbEMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ2IsSUFBTSxZQUFZLEdBQUcsSUFBSSxLQUFLLENBQUMsZ0NBQThCLFdBQVcsUUFBSyxDQUFDLENBQUM7UUFDL0UsWUFBWSxDQUFDLElBQUksR0FBRyxjQUFjLENBQUM7UUFDbkMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ3ZCLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQVJELDRDQVFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2xpZW50UmVxdWVzdCB9IGZyb20gXCJodHRwXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRTb2NrZXRUaW1lb3V0KHJlcXVlc3Q6IENsaWVudFJlcXVlc3QsIHJlamVjdDogKGVycjogRXJyb3IpID0+IHZvaWQsIHRpbWVvdXRJbk1zID0gMCkge1xuICByZXF1ZXN0LnNldFRpbWVvdXQodGltZW91dEluTXMsIGZ1bmN0aW9uICh0aGlzOiBDbGllbnRSZXF1ZXN0KSB7XG4gICAgLy8gYWJvcnQgdGhlIHJlcXVlc3QgdG8gZGVzdHJveSBpdFxuICAgIHRoaXMuYWJvcnQoKTtcbiAgICBjb25zdCB0aW1lb3V0RXJyb3IgPSBuZXcgRXJyb3IoYENvbm5lY3Rpb24gdGltZWQgb3V0IGFmdGVyICR7dGltZW91dEluTXN9IG1zYCk7XG4gICAgdGltZW91dEVycm9yLm5hbWUgPSBcIlRpbWVvdXRFcnJvclwiO1xuICAgIHJlamVjdCh0aW1lb3V0RXJyb3IpO1xuICB9KTtcbn1cbiJdfQ==